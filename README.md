# Процесс развертывания сервера и базы данных
-------------------------------
Для начала необходимо скачать, установить и настроить следующий список программ:
  - docker: sudo apt-get install docker - с помощью этой команды вы можете скачать себе докер(ubunty 18.04.1 LTS)
  - Postgres: sudo apt-get install postgresql postgresql-contrib


## Далее потребуется собрать нашу базу данных и поставить сервер с помощью docker:
---------------------------
1. docker build database -t spacedb 

POSTGRES_* переменные
И директорию внутри образа /docker-entrypoint-initdb.d куда можно положить sh скрипты или sql файлы, которые будут выполнены на старте. Это очень удобно, если вы скажем хотите создать дополнительных пользователей или базы данных, установить права, проинициализировать расширения.

2. 	docker build server -t kolomnikov 

Мы  можем вручную устанавливать на виртуальный сервер всё, что нам нужно. Затем делать его image. И далее клонировать его столько раз, сколько нам надо.

## Запустим наши контейнеры: 
-----------------------------
1. docker run --name spacedb --rm spacedb
2. docker run --name kolomnikov --link spacedb:spacedb -p 8080 -rm kolomnikov	

## Так как для написания графики я использовал tkinter, то требуется его установить: 

Sudo apt-get install python3-tkinter

------------------------------------------------

## Также существует прямая настройка сервера через файл "config", в папках client и server:
-------------------------------------
Все что от вас требуется - это зайти в настройки вашего интернет соединения и извлечь от туда адрес IPv4:

1. Настройка файла config.py в папке server (причина его создания была в том, чтобы постоянно не писать ip адресс и порт, а просто "дергать" из файла). Пропишем IPv4 найденный ранее, порт для сервера можете выбрать произвольный. Для БД стандартный ip и порт ('localhost', 5432). 
2. Для клиента требуется написать всего лишь ip и порт вашего сервера.


## Также в случае проблем с базой данных может потребоваться ручная настройка:
-------------------------------------
Шаг 1. Установка PostgreSQL
Если система установлена недавно и вы пропустили предыдущий шаг, то данный шаг можно пропустить, так как в процессе установки системы производится обновление индекса пакетов. В противном случае выполните команду:

sudo apt-get update
Эта команда произведёт обновление индекса, что позволит устанавливать свежие и актуальные пакеты.

Установка PostgreSQL из официальных репозиториев и из PPA производится одинаково. Загрузим и установим пакеты PostgreSQL и contrib (contrib предоставляет некоторый дополнительный функционал и утилиты):

sudo apt-get install postgresql postgresql-contrib
Шаг 2. Подключение к серверу баз данных
Во время установки программы в системе автоматически была создана учётная запись администратора баз данных — postgres. На данном этапе доступ к системе баз данных можно получить только через неё. 
Вы можете либо переключиться в сессию учётной записи postgres и запустить там оболочку программы:

sudo su - postgres
psql
либо запустить оболочку от имени postgres без переключения сессии:

sudo -u postgres psql
Попав тем или иным способом в командную строку psql, вам необходимо знать, как из неё выйти. Это можно сделать с помощью ввода команды выхода:

\q
(сокращение от quit).

Шаг 3. Создание новой роли
Если вы производили установку по инструкции, то к этому моменту в вашей СУБД есть только одна роль — postgres. Рекомендуется не использовать данную роль для работы со своими базами данных, а создавать для каждой базы новую роль (или несколько при необходимости). Для создания новой роли предусмотрены два стандартных способа:

интерактивный режим, в котором достаточно ответить на несколько простых вопросов;
команда для создания роли через командную строку СУБД.
Мы не будем подробно останавливаться на интерактивном режиме, так как создать роль, которая полностью удовлетворяет требованиям в большинстве случаев, мы можем всего одной простой командой (перед этим нужно находиться в режиме командной строки как было описано на Шаге 2). Не забудьте заменить username на желаемое имя пользователя, а password — на пароль для этого пользователя:

create user username with password 'password';
Имя указывается без кавычек, а пароль — в одинарных кавычках.

Шаг 4. Создание базы данных
Находясь в режиме командной строки psql, создать базу данных мы можем командой create database и указав название базы данных. Например, чтобы воздать БД с именем vscale_db, выполните команду:

create database vscale_db;
Шаг 5. Назначение прав
Созданной ранее нами роли нужно назначить права на базу данных. В большинстве проектов, где у вас будет использоваться всего один пользователь базы данных, ему будут требоваться полные права. Выдать их можно следующим образом:

grant all privileges on database vscale_db to username;
где vscale_db — название базы данных, выбранное на шаге 4, а username — имя пользователя, заданное на шаге 3.

Вся минимально требующаяся предварительная настройка завершена. Вы можете выйти из psql, введя "\q".

Шаг 6. Аутентификация и начало работы с базой данных
К текущему моменту у вас есть всё необходимое для начала работы с базой данных. Чтобы подключиться к ней, запустите psql с параметрами: хост "-h localhost" (так как подключаемся к локальной базе данных), название БД "vscale_db" и имя пользователя "username":

psql -h localhost vscale_db username
После этого вы сможете взаимодействовать с вашей базой данных: создавать таблицы, созранять в них информцию, делать выборки и т.д.

## Клиент запускается достаточно просто:
------------------------------------- 
python3 client.py либо ./client.py
